<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Pertemuan 1 | Struktur Dasar HTML</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
:root{
 --primary:#34d399;
 --secondary:#10b981;
 --accent:#6ee7b7;
 --dark:#064e3b;
 --glass:rgba(255,255,255,.82);
 --gradient-bg: linear-gradient(135deg, #bbf7d0, #99f6e4, #ecfdf5);
 --shadow-light: 0 10px 30px rgba(0,0,0,.08);
 --shadow-heavy: 0 40px 100px rgba(0,0,0,.18);
}

*{box-sizing:border-box; margin:0; padding:0;}

body{
 font-family:Poppins,sans-serif;
 background: var(--gradient-bg);
 color:var(--dark);
 overflow-x:hidden;
 min-height:100vh;
 position:relative;
}

body::before{
 content:"";
 position:fixed;
 top:0;left:0;width:100%;height:100%;
 background: radial-gradient(circle at 20% 80%, rgba(16,185,129,.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, rgba(110,231,183,.1) 0%, transparent 50%);
 z-index:-1;
}

/* ================= NAVBAR ================= */
nav{
 position:fixed;
 top:0;left:0;width:100%;
 z-index:99;
 background:rgba(255,255,255,.95);
 backdrop-filter:blur(20px);
 padding:16px 40px;
 display:flex;
 justify-content:space-between;
 align-items:center;
 box-shadow: var(--shadow-light);
 border-bottom:1px solid rgba(16,185,129,.1);
 transition:.3s;
}

.brand{
 display:flex;
 align-items:center;
 gap:14px;
 font-weight:800;
 font-size:20px;
 color:var(--dark);
}

.brand img{
 width:48px;
 border-radius:50%;
 box-shadow:0 8px 20px rgba(0,0,0,.15);
 transition:.3s;
}

.brand img:hover{ transform:scale(1.05); }

.nav-user{
 font-size:15px;
 font-weight:600;
 opacity:.9;
 color:var(--dark);
}

/* ================= PROGRESS ================= */
.progress-container{
 position:fixed;
 top:90px;
 left:50%;
 transform:translateX(-50%);
 width:95%;
 max-width:1200px;
 background:#f0fdf4;
 border-radius:50px;
 padding:12px 20px;
 box-shadow: var(--shadow-light);
 z-index:98;
 display:flex;
 align-items:center;
 gap:16px;
}

.progress-bar{
 flex:1;
 height:14px;
 background:#d1fae5;
 border-radius:50px;
 overflow:hidden;
 position:relative;
}

.progress-bar span{
 position:absolute;
 left:0;
 height:100%;
 width:0%;
 border-radius:50px;
 background: linear-gradient(90deg, #6ee7b7, #34d399, #10b981);
 transition: width 1s cubic-bezier(.22,1,.36,1);
 box-shadow: 0 0 20px rgba(16,185,129,.5);
}

.progress-text{
 font-size:14px;
 font-weight:700;
 color:var(--dark);
 white-space:nowrap;
}

/* ================= SECTION ================= */
section{
 padding:180px 20px 100px;
 display:none;
 justify-content:center;
 min-height:100vh;
}

section.active{
 display:flex;
 animation:fadeInUp 1s cubic-bezier(.2,.8,.2,1);
}

section.exit{
 animation:fadeOutDown .6s ease forwards;
}

@keyframes fadeInUp{
 from{opacity:0; transform:translateY(50px);}
 to{opacity:1; transform:translateY(0);}
}

@keyframes fadeOutDown{
 to{opacity:0; transform:translateY(-50px);}
}

/* ================= CONTAINER ================= */
.container{
 width:100%;
 max-width:1000px;
 background: linear-gradient(180deg, rgba(255,255,255,.95), rgba(255,255,255,.85));
 backdrop-filter:blur(30px);
 border-radius:50px;
 padding:70px 60px;
 box-shadow: var(--shadow-heavy);
 position:relative;
 overflow:hidden;
 border:1px solid rgba(255,255,255,.5);
}

.container::after{
 content:"";
 position:absolute;
 inset:0;
 background: radial-gradient(circle at 30% 70%, rgba(187,247,208,.3) 0%, transparent 60%),
            radial-gradient(circle at 70% 30%, rgba(153,246,228,.3) 0%, transparent 60%);
 opacity:.6;
 pointer-events:none;
}

/* ================= BOX MATERI ================= */
.box{
 background: linear-gradient(135deg, rgba(255,255,255,.9), rgba(240,253,244,.9));
 border-left:10px solid var(--primary);
 padding:40px;
 border-radius:40px;
 line-height:2;
 box-shadow: 0 20px 60px rgba(0,0,0,.1);
 backdrop-filter:blur(20px);
 position:relative;
}

.box::before{
 content:"üìñ";
 position:absolute;
 top:20px; right:20px;
 font-size:24px;
 opacity:.7;
}

/* ================= VIDEO ================= */
iframe{
 width:100%;
 height:480px;
 border-radius:40px;
 border:none;
 margin:50px 0 30px;
 box-shadow:0 30px 80px rgba(0,0,0,.25);
 transition:.3s;
}

iframe:hover{ transform:scale(1.02); }

/* ================= QUIZ ================= */
.quiz{
 margin-top:40px;
 display:none;
 animation:slideIn .8s ease;
}

@keyframes slideIn{
 from{opacity:0; transform:translateY(30px);}
 to{opacity:1; transform:translateY(0);}
}

.quiz-card{
 background: linear-gradient(135deg, #ffffff, #f0fdf4);
 padding:32px;
 border-radius:32px;
 box-shadow:0 20px 50px rgba(0,0,0,.12);
 margin-bottom:30px;
 transition:.3s;
 border:1px solid rgba(16,185,129,.1);
}

.quiz-card:hover{
 transform:translateY(-5px);
 box-shadow:0 30px 70px rgba(0,0,0,.18);
}

.quiz-card h4{
 margin-bottom:16px;
 font-size:18px;
 font-weight:700;
 color:var(--dark);
}

.quiz-card label{
 display:block;
 margin-top:14px;
 padding:16px 20px;
 border-radius:20px;
 background:#ecfdf5;
 cursor:pointer;
 transition:.3s;
 font-size:16px;
 border:2px solid transparent;
}

.quiz-card label:hover{
 background:#d1fae5;
 transform:translateX(8px) translateY(-2px);
 box-shadow:0 10px 25px rgba(0,0,0,.15);
 border-color: var(--primary);
}

.quiz-card input{
 accent-color:#34d399;
 transform:scale(1.2);
 margin-right:12px;
}

/* ================= BUTTON ================= */
button{
 margin-top:40px;
 padding:20px 70px;
 border-radius:50px;
 border:none;
 font-weight:700;
 font-size:16px;
 letter-spacing:.5px;
 color:#064e3b;
 cursor:pointer;
 background: linear-gradient(135deg, #6ee7b7, #34d399);
 box-shadow: 0 25px 70px rgba(16,185,129,.45);
 transition:.4s cubic-bezier(.2,.8,.2,1);
 position:relative;
 overflow:hidden;
}

button::after{
 content:"";
 position:absolute;
 inset:0;
 background: linear-gradient(135deg, rgba(255,255,255,.4), rgba(255,255,255,.1));
 transform:translateX(-100%);
 transition:.6s;
}

button:hover::after{
 transform:translateX(100%);
}

button:hover{
 transform:translateY(-10px) scale(1.05);
 box-shadow:0 40px 100px rgba(16,185,129,.65);
}

button:disabled{
 opacity:.6;
 cursor:not-allowed;
 transform:none;
 box-shadow:0 10px 30px rgba(16,185,129,.2);
}

/* ================= FOOTER ================= */
footer{
 background: linear-gradient(135deg, #064e3b, #047857);
 color:#ecfeff;
 text-align:center;
 padding:30px;
 font-size:14px;
 box-shadow:0 -10px 30px rgba(0,0,0,.1);
}

/* ================= RESPONSIVE ================= */
@media(max-width:768px){
 .container{padding:50px 30px}
 iframe{height:300px}
 .progress-container{ width:95%; flex-direction:column; gap:10px; }
 .progress-text{ font-size:12px; }
}

/* ================= TITLE & SUBTITLE ================= */
.title{
 font-size:42px;
 font-weight:900;
 letter-spacing:-1px;
 margin-bottom:10px;
 color:var(--dark);
 text-align:center;
}

.subtitle{
 font-size:18px;
 opacity:.8;
 margin-bottom:40px;
 text-align:center;
}

/* ================= BADGE ================= */
.badge{
 display:inline-flex;
 align-items:center;
 gap:12px;
 padding:14px 26px;
 border-radius:50px;
 background: linear-gradient(135deg, #fef3c7, #fde68a);
 color:#92400e;
 font-weight:700;
 box-shadow:0 20px 50px rgba(0,0,0,.18);
 margin:20px auto;
 font-size:14px;
}

/* ================= RANGKUMAN ================= */
.section-head{
 text-align:center;
 margin:60px auto 40px;
 max-width:800px;
}

.section-head h2{
 font-size:44px;
 font-weight:900;
 letter-spacing:-1px;
 line-height:1.2;
 color:var(--dark);
}

.section-head p{
 margin-top:16px;
 font-size:18px;
 opacity:.85;
 line-height:1.7;
}

.section-divider{
 width:180px;
 height:8px;
 margin:24px auto 0;
 border-radius:50px;
 background: linear-gradient(90deg, #6ee7b7, #10b981);
 box-shadow:0 20px 40px rgba(16,185,129,.45);
}

.summary-grid{
 display:grid;
 grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
 gap:50px;
 margin:70px 0 100px;
}

.summary-item{
 background: linear-gradient(180deg, #ffffff, #f0fdf4);
 padding:44px 40px 50px;
 border-radius:40px;
 box-shadow:0 30px 80px rgba(0,0,0,.14);
 border-top:10px solid var(--primary);
 position:relative;
 display:flex;
 flex-direction:column;
 min-height:320px;
 transition:.4s cubic-bezier(.2,.8,.2,1);
}

.summary-item:hover{
 transform:translateY(-10px) scale(1.02);
 box-shadow:0 45px 120px rgba(0,0,0,.25);
}

.summary-item h4{
 font-size:24px;
 font-weight:900;
 margin-bottom:18px;
 color:#065f46;
 line-height:1.3;
}

.summary-item p{
 font-size:16px;
 line-height:1.9;
 opacity:.9;
 flex:1;
}

.summary-item span{
 margin-top:30px;
 display:inline-flex;
 align-items:center;
 gap:10px;
 font-size:14px;
 font-weight:800;
 color:#047857;
 background:#d1fae5;
 padding:10px 20px;
 border-radius:50px;
 align-self:flex-start;
 box-shadow:0 10px 20px rgba(0,0,0,.12);
}

/* ================= VIDEO RANGKUMAN ================= */
.summary-video{
 margin:40px 0 60px;
 padding:40px 40px 50px;
 border-radius:40px;
 background: linear-gradient(180deg, #ffffff, #f0fdf4);
 box-shadow:0 35px 100px rgba(0,0,0,.18);
 border-top:10px solid var(--primary);
 position:relative;
}

.summary-video h3{
 font-size:28px;
 font-weight:900;
 margin-bottom:14px;
 color:#065f46;
}

.summary-video p{
 font-size:16px;
 line-height:1.8;
 opacity:.85;
 margin-bottom:30px;
}

/* ================= LATIHAN ================= */
.exercise-progress{
 display:flex;
 justify-content:space-between;
 align-items:center;
 margin:0 0 40px;
 font-size:16px;
 font-weight:800;
 color:#047857;
}

.exercise-progress span{
 background:#d1fae5;
 padding:10px 20px;
 border-radius:50px;
 box-shadow:0 10px 20px rgba(0,0,0,.12);
}

.exercise-item{
 position:relative;
 background: linear-gradient(180deg, #ffffff, #f0fdf4);
 padding:50px 50px 54px;
 border-radius:40px;
 box-shadow:0 35px 90px rgba(0,0,0,.15);
 border-left:12px solid var(--primary);
 overflow:hidden;
 transition:.5s cubic-bezier(.2,.8,.2,1);
 margin-bottom:40px;
}

.exercise-item::before{
 content:attr(data-no);
 position:absolute;
 top:-30px;
 right:-20px;
 font-size:100px;
 font-weight:900;
 color:rgba(16,185,129,.1);
}

.exercise-item:hover{
 transform:translateY(-12px) scale(1.02);
 box-shadow:0 50px 130px rgba(0,0,0,.25);
}

.exercise-item h4{
 font-size:20px;
 font-weight:900;
 margin-bottom:24px;
 color:#065f46;
 line-height:1.4;
}

.exercise-item label{
 display:flex;
 align-items:center;
 gap:16px;
 margin-top:18px;
 padding:18px 22px;
 border-radius:24px;
 background:#ecfdf5;
 cursor:pointer;
 transition:.3s;
 font-size:16px;
}

.exercise-item label:hover{
 background:#d1fae5;
 transform:translateX(10px);
 box-shadow:0 12px 28px rgba(0,0,0,.14);
}

.exercise-item input{
 accent-color:#10b981;
 transform:scale(1.3);
}

/* ================= NOTE ================= */
.note-box{
 margin:60px auto 0;
 max-width:900px;
 background: linear-gradient(135deg, #ecfeff, #d1fae5);
 padding:40px 44px;
 border-radius:40px;
 box-shadow:0 30px 80px rgba(0,0,0,.18);
 border-left:12px solid var(--secondary);
}

.note-box p{
 font-size:16px;
 line-height:1.9;
 opacity:.9;
}

/* ================= VIDEO LUMI ================= */
.video-lumi{
 position:relative;
 margin:40px 0 40px;
 padding:40px 44px 50px;
 border-radius:50px;
 background: linear-gradient(180deg, #ffffff, #ecfdf5);
 box-shadow: var(--shadow-heavy);
 border-top:12px solid var(--primary);
}


.video-lumi h3{
 font-size:28px;
 font-weight:900;
 margin-bottom:24px;
 color:#065f46;
 letter-spacing:-.5px;
}

.video-lumi .video-wrapper{
 position:relative;
}

.video-progress-wrap{
 margin-top:20px;
}

.video-progress-text{
 display:flex;
 justify-content:space-between;
 align-items:center;
 font-size:15px;
 font-weight:800;
 color:#065f46;
 margin-bottom:12px;
}

.video-progress-bar{
 width:100%;
 height:16px;
 border-radius:50px;
 background:#d1fae5;
 overflow:hidden;
 box-shadow:inset 0 4px 8px rgba(0,0,0,.15);
}

.video-progress-bar span{
 display:block;
 height:100%;
 width:0%;
 border-radius:50px;
 background: linear-gradient(90deg, #6ee7b7, #34d399, #10b981);
 transition:width 1s cubic-bezier(.22,1,.36,1);
}

.video-status{
 margin-top:24px;
 padding:16px 28px;
 border-radius:50px;
 font-size:15px;
 font-weight:800;
 display:inline-flex;
 align-items:center;
 gap:12px;
 background:#fde68a;
 color:#92400e;
 box-shadow:0 20px 50px rgba(0,0,0,.2);
 transition:.3s;
}

.video-status.done{
 background: linear-gradient(135deg, #6ee7b7, #34d399);
 color:#064e3b;
}

.video-status.optional{
 background: linear-gradient(135deg, #fef3c7, #fde68a);
 color:#92400e;
}

/* ================= OPTIONAL NOTE ================= */
.optional-note{
 background: linear-gradient(135deg, #fef3c7, #fde68a);
 padding:20px 30px;
 border-radius:30px;
 margin:20px 0;
 font-size:15px;
 color:#92400e;
 font-weight:600;
 box-shadow:0 10px 30px rgba(0,0,0,.1);
}

/* ================= LOCKED ================= */
.locked{
 opacity:.5;
 pointer-events:none;
 filter:grayscale(1);
}

.unlocked{
 opacity:1;
 pointer-events:auto;
 filter:none;
}

.quiz-box.locked input,
.quiz-box.locked label{
 pointer-events:none;
 user-select:none;
}

.quiz-box.locked{
 filter:blur(2px) grayscale(1);
 opacity:.6;
}

/* ================= RESPONSIVE VIDEO ================= */
@media(max-width:900px){
 .video-lumi iframe{height:400px}
}
@media(max-width:600px){
 .video-lumi iframe{height:280px}
}

/* ================= STATUS & PROGRESS ================= */
body.lock-scroll{
 overflow:hidden;
}

/* ================= STATUS & PROGRESS ================= */
body.lock-scroll{
 overflow:hidden;
}

/* ================= VIDEO TUJUAN ================= */
.video-lumi.tujuan{
 border-top:12px solid var(--primary);
 background: linear-gradient(180deg, #ffffff, #ecfdf5);
}

.video-lumi.tujuan h3{
 color:#065f46;
}

.video-lumi.tujuan .video-status{
 background:#fde68a;
 color:#92400e;
}

.video-lumi.tujuan .video-status.done{
 background: linear-gradient(135deg, #6ee7b7, #34d399);
 color:#064e3b;
}

/* ================= RAPATKAN STATUS VIDEO & TOMBOL ================= */
.video-lumi .video-status{
 margin-bottom:24px;
}

#btnMulai{
 margin-top:28px !important;
}

.video-lumi{
 margin-bottom:50px;
}

/* ================= QUIZ IMPROVEMENTS ================= */
.quiz h3{
 font-size:28px;
 font-weight:900;
 margin-bottom:30px;
 color:var(--dark);
 text-align:center;
}

.quiz-card .question-type{
 display:inline-block;
 padding:6px 14px;
 border-radius:20px;
 font-size:12px;
 font-weight:700;
 margin-bottom:10px;
}

.quiz-card .question-type.tf{ background:#dbeafe; color:#1e40af; }
.quiz-card .question-type.pg{ background:#dcfce7; color:#166534; }
.quiz-card .question-type.cb{ background:#fef3c7; color:#92400e; }
.quiz-card .question-type.es{ background:#fce7f3; color:#be185d; }

/* ================= FINAL RESULT STYLING ================= */
.final-result{
 text-align:center;
 padding:50px;
 background: linear-gradient(135deg, #ffffff, #f0fdf4);
 border-radius:50px;
 box-shadow: var(--shadow-heavy);
 margin:50px 0;
}

.final-result h2{
 font-size:36px;
 font-weight:900;
 margin-bottom:20px;
 color:var(--dark);
}

.final-result .score{
 font-size:48px;
 font-weight:900;
 color:var(--primary);
 margin:20px 0;
}

.final-result .predikat{
 display:inline-block;
 padding:16px 32px;
 border-radius:50px;
 font-size:18px;
 font-weight:700;
 margin:20px 0;
}

.final-result .predikat.A{ background: linear-gradient(135deg, #10b981, #059669); color:white; }
.final-result .predikat.B{ background: linear-gradient(135deg, #3b82f6, #2563eb); color:white; }
.final-result .predikat.C{ background: linear-gradient(135deg, #f59e0b, #d97706); color:white; }
.final-result .predikat.D{ background: linear-gradient(135deg, #ef4444, #dc2626); color:white; }

.final-result table{
 margin:30px auto;
 border-collapse:collapse;
 font-size:16px;
}

.final-result table td{
 padding:12px 20px;
 border-bottom:1px solid rgba(0,0,0,.1);
}

.final-result table td:first-child{
 text-align:left;
 font-weight:600;
}

.final-result table td:last-child{
 text-align:right;
 font-weight:700;
 color:var(--primary);
}
</style>
</head>

<body>

<nav>
 <div class="brand">
  <img src="logo.png" alt="Logo">
  E-Learning RPL
 </div>
 <div class="nav-user">
  <i class="fa-solid fa-user"></i> Siswa
 </div>
</nav>

<div class="progress-container">
 <div class="progress-bar"><span id="bar"></span></div>
 <div class="progress-text" id="progressText">0% Selesai</div>
</div>

<!-- ================= TUJUAN ================= -->
<section id="s1" class="active">
<div class="container">
<h2 class="title">Tujuan Pembelajaran</h2>
<p class="subtitle">Peserta didik memahami struktur dasar HTML</p>
<div class="box">
<ol>
<li>Menganalisis struktur dasar HTML untuk memahami fungsi dan peran setiap elemennya.</li>
<li>Mengevaluasi penggunaan berbagai tag dan format teks HTML dalam membangun konten.</li>
<li>Mengintegrasikan struktur dasar dan format teks HTML untuk merancang halaman web sederhana.</li>
</ol>
</div>

 <div class="video-lumi tujuan"
      data-indikator="tujuan"
      data-durasi="124">

  <h3>üé• Video Pengantar Pembelajaran</h3>

  <p class="subtitle-video">
   Video ini memberikan gambaran awal mengenai tujuan dan alur pembelajaran
   Struktur Dasar HTML pada pertemuan ini.
  </p>

  <!-- VIDEO -->
  <div class="video-wrapper">
   <iframe
    src="https://app.lumi.education/run/FK9K4N?embed=true"
    loading="lazy"
    sandbox="allow-scripts allow-same-origin allow-forms allow-popups"
    allow="autoplay; fullscreen">
   </iframe>
  </div>

  <!-- PROGRESS -->
  <div class="video-progress-wrap">
   <div class="video-progress-text">
    <span id="videoLabeltujuan"><i class="fa-solid fa-lock"></i> Video belum diputar</span>
    <span id="videoPercenttujuan">0%</span>
   </div>

   <div class="video-progress-bar">
    <span id="videoBartujuan"></span>
   </div>
  </div>

  <!-- STATUS -->
  <div class="video-status" id="videoStatustujuan">
   Selesaikan video pengantar untuk melanjutkan pembelajaran
  </div>

 </div>

 <!-- BUTTON -->
 <button id="btnMulai" class="locked-btn" disabled>
  üîí Mulai Pembelajaran
 </button>
</section>

<!-- ================= INDIKATOR 1 ================= -->
<section id="s2">
<div class="container">
<h2 class="title" id="judul-1">Indikator 1</h2>
<p class="subtitle">Struktur Dasar HTML</p>

<div id="m1" class="box">
<p><b>HTML (HyperText Markup Language)</b> merupakan bahasa markup standar yang digunakan untuk membuat dan menampilkan halaman web melalui browser seperti Google Chrome, Mozilla Firefox, dan Microsoft Edge. HTML berasal dari pengembangan <b>SGML</b> dan dikendalikan oleh <b>World Wide Web Consortium (W3C)</b>.</p>

<p>Dokumen HTML tersusun dari elemen-elemen yang ditandai dengan tag. Struktur dasar HTML terdiri dari:</p>
<ul>
<li><b>&lt;html&gt;</b> sebagai pembungkus utama dokumen</li>
<li><b>&lt;head&gt;</b> berisi informasi dokumen seperti judul</li>
<li><b>&lt;body&gt;</b> berisi seluruh konten yang tampil di halaman web</li>
</ul>

<p>Penulisan struktur HTML harus berurutan dan ditutup dengan benar agar browser dapat menampilkan halaman dengan sempurna.</p>
</div>

<div class="video-lumi"
     data-indikator="1"
     data-durasi="90">

 <h3>üé• Video Indikator 1</h3>

 <!-- VIDEO -->
 <div class="video-wrapper">
  <iframe
   src="https://app.lumi.education/run/Ax4fGZ?embed=true"
   loading="lazy"
   sandbox="allow-scripts allow-same-origin allow-forms allow-popups"
   allow="autoplay; fullscreen">
  </iframe>
 </div>

 <!-- PROGRESS -->
 <div class="video-progress-wrap">
  <div class="video-progress-text">
   <span id="videoLabel1"><i class="fa-solid fa-lock"></i> Video belum diputar</span>
   <span id="videoPercent1">0%</span>
  </div>

  <div class="video-progress-bar">
   <span id="videoBar1"></span>
  </div>
 </div>

 <!-- STATUS -->
 <div class="video-status" id="videoStatus1">
  Selesaikan video untuk membuka kuis
 </div>
</div>

<!-- QUIZ -->
<button id="btnQuiz1" class="locked-btn" disabled style="display:none"
 onclick="showQuiz(1)">
 üîí Mulai Kuis
</button>

<div id="quiz1" class="quiz" style="display:none">
 <h3>Kuis Indikator 1</h3>
<div class="quiz-card">
<h4>1. HTML digunakan untuk ‚Ä¶</h4>
<label><input type="radio" name="i1_1" value="20"> Membuat struktur dan konten web</label>
<label><input type="radio" name="i1_1" value="0"> Mengatur database</label>
<label><input type="radio" name="i1_1" value="0"> Bahasa pemrograman server</label>
<label><input type="radio" name="i1_1" value="0"> Sistem operasi</label>
</div>

<div class="quiz-card">
<h4>2. Struktur utama HTML (pilih lebih dari satu)</h4>
<label><input type="checkbox" value="10"> &lt;html&gt;</label>
<label><input type="checkbox" value="10"> &lt;head&gt;</label>
<label><input type="checkbox" value="10"> &lt;body&gt;</label>
<label><input type="checkbox" value="0"> &lt;footer&gt;</label>
</div>

<div class="quiz-card">
<h4>3. HTML distandarisasi oleh W3C</h4>
<label><input type="radio" name="i1_3" value="20"> Benar</label>
<label><input type="radio" name="i1_3" value="0"> Salah</label>
</div>

<div class="quiz-card">
<h4>4. Tag &lt;body&gt; berfungsi untuk ‚Ä¶</h4>
<label><input type="radio" name="i1_4" value="20"> Menampilkan isi halaman</label>
<label><input type="radio" name="i1_4" value="0"> Menyimpan metadata</label>
<label><input type="radio" name="i1_4" value="0"> Menghubungkan CSS</label>
<label><input type="radio" name="i1_4" value="0"> Menentukan judul tab</label>
</div>

<div class="quiz-card">
<h4>5. Semua dokumen HTML harus ditutup dengan ‚Ä¶</h4>
<label><input type="radio" name="i1_5" value="20"> &lt;/html&gt;</label>
<label><input type="radio" name="i1_5" value="0"> &lt;/body&gt;</label>
<label><input type="radio" name="i1_5" value="0"> &lt;/head&gt;</label>
<label><input type="radio" name="i1_5" value="0"> &lt;/title&gt;</label>
</div>

<button onclick="cekIndikator(1)">Submit Kuis</button>
</div>
</section>

<!-- ================= INDIKATOR 2 ================= -->
<section id="s3">
<div class="container">
<h2 class="title" id="judul-2">Indikator 2</h2>
<p class="subtitle">Tag dan Format Teks HTML</p>

<div id="m2" class="box">
<p><b>Tag HTML</b> adalah perintah khusus yang digunakan untuk memberi instruksi kepada browser tentang bagaimana suatu konten harus ditampilkan. Tag HTML ditulis menggunakan tanda kurung sudut (&lt; &gt;) dan umumnya ditulis berpasangan, yaitu tag pembuka dan tag penutup.</p>

<p>Contoh penulisan tag HTML:</p>
<pre>&lt;b&gt;Teks Tebal&lt;/b&gt;</pre>

<p>Beberapa tag format teks yang sering digunakan dalam HTML antara lain:</p>
<ul>
<li><b>&lt;b&gt;</b> untuk menebalkan teks</li>
<li><b>&lt;i&gt;</b> untuk memiringkan teks</li>
<li><b>&lt;u&gt;</b> untuk memberi garis bawah</li>
<li><b>&lt;p&gt;</b> untuk paragraf</li>
<li><b>&lt;br&gt;</b> untuk pindah baris</li>
</ul>

<p>Penulisan tag HTML harus dilakukan secara <b>berurutan dan bersarang (nested)</b>. Kesalahan dalam penutupan tag dapat menyebabkan tampilan halaman web tidak sesuai dengan yang diharapkan.</p>
</div>
<div class="video-lumi" data-indikator="2" data-durasi="38">
 <h3>üé• Video Indikator 2</h3>

 <!-- VIDEO -->
 <div class="video-wrapper">
  <iframe
   src="https://app.lumi.education/run/GwcWnk?embed=true"
   loading="lazy"
   sandbox="allow-scripts allow-same-origin allow-forms allow-popups"
   allow="autoplay; fullscreen">
  </iframe>
 </div>

 <!-- PROGRESS -->
 <div class="video-progress-wrap">
  <div class="video-progress-text">
   <span id="videoLabel2"><i class="fa-solid fa-lock"></i> Video belum diputar</span>
   <span id="videoPercent2">0%</span>
  </div>

  <div class="video-progress-bar">
   <span id="videoBar2"></span>
  </div>
 </div>

 <!-- STATUS -->
 <div class="video-status" id="videoStatus2">
  Selesaikan video untuk membuka kuis
 </div>
</div>

<!-- QUIZ -->
<button id="btnQuiz2" class="locked-btn" disabled style="display:none"
 onclick="showQuiz(2)">
 üîí Mulai Kuis
</button>

<div id="quiz2" class="quiz" style="display:none">
 <h3>Kuis Indikator 2</h3>
  <div class="quiz-card">
   <h4>1. Fungsi utama tag HTML adalah ‚Ä¶</h4>
   <label><input type="radio" name="i2_1" value="20"> Memberi instruksi tampilan ke browser</label>
   <label><input type="radio" name="i2_1" value="0"> Menyimpan data</label>
   <label><input type="radio" name="i2_1" value="0"> Mengatur server</label>
   <label><input type="radio" name="i2_1" value="0"> Sistem operasi</label>
  </div>

  <div class="quiz-card">
   <h4>2. Berikut ini yang termasuk tag format teks (pilih lebih dari satu)</h4>
     <label><input type="checkbox" value="10"> &lt;b&gt;</label>
   <label><input type="checkbox" value="10"> &lt;i&gt;</label>
   <label><input type="checkbox" value="10"> &lt;u&gt;</label>
   <label><input type="checkbox" value="0"> &lt;html&gt;</label>
  </div>

  <div class="quiz-card">
   <h4>3. Tag HTML harus ditulis berpasangan</h4>
   <label><input type="radio" name="i2_3" value="20"> Benar</label>
   <label><input type="radio" name="i2_3" value="0"> Salah</label>
  </div>

  <div class="quiz-card">
   <h4>4. Penulisan tag yang benar adalah ‚Ä¶</h4>
   <label><input type="radio" name="i2_4" value="20"> &lt;p&gt;Isi&lt;/p&gt;</label>
   <label><input type="radio" name="i2_4" value="0"> &lt;p&gt;Isi</label>
   <label><input type="radio" name="i2_4" value="0"> &lt;/p&gt;Isi</label>
   <label><input type="radio" name="i2_4" value="0"> &lt;p/&gt;</label>
  </div>

  <div class="quiz-card">
   <h4>5. Tag &lt;br&gt; berfungsi untuk ‚Ä¶</h4>
   <label><input type="radio" name="i2_5" value="20"> Pindah baris</label>
   <label><input type="radio" name="i2_5" value="0"> Paragraf baru</label>
   <label><input type="radio" name="i2_5" value="0"> Menebalkan teks</label>
   <label><input type="radio" name="i2_5" value="0"> Mengubah warna</label>
  </div>

  <button onclick="cekIndikator(2)">Submit Kuis</button>
 </div>
</div>
</section>

<!-- ================= INDIKATOR 3 ================= -->
<section id="s4">
<div class="container">
<h2 class="title" id="judul-3">Indikator 3</h2>
<p class="subtitle">Integrasi Struktur dan Format HTML</p>

<div id="m3" class="box">
<p>Pada tahap ini, peserta didik diharapkan mampu <b>mengintegrasikan struktur dasar HTML dengan berbagai format teks</b> untuk membentuk sebuah halaman web sederhana yang utuh.</p>

<p>Contoh struktur HTML lengkap:</p>
<pre>
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Web Pertamaku&lt;/title&gt;
 &<p>Contoh struktur HTML lengkap:</p>
<pre>
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Web Pertamaku&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;h1&gt;Selamat Datang&lt;/h1&gt;
  &lt;p&gt;Ini adalah halaman web pertamaku.&lt;/p&gt;
 &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>Struktur HTML bersifat <b>hierarkis</b>, artinya setiap elemen memiliki hubungan induk dan anak. Pemahaman struktur ini sangat penting agar halaman web dapat dikembangkan lebih lanjut menggunakan CSS dan JavaScript.</p>
</div>
<div class="video-lumi" data-indikator="3" data-durasi="107">
 <h3>üé• Video Indikator 3</h3>

 <!-- VIDEO -->
 <div class="video-wrapper">
  <iframe
   src="https://app.lumi.education/run/D_tOW3?embed=true"
   loading="lazy"
   sandbox="allow-scripts allow-same-origin allow-forms allow-popups"
   allow="autoplay; fullscreen">
  </iframe>
 </div>

 <!-- PROGRESS -->
 <div class="video-progress-wrap">
  <div class="video-progress-text">
   <span id="videoLabel3"><i class="fa-solid fa-lock"></i> Video belum diputar</span>
   <span id="videoPercent3">0%</span>
  </div>

  <div class="video-progress-bar">
   <span id="videoBar3"></span>
  </div>
 </div>

 <!-- STATUS -->
 <div class="video-status" id="videoStatus3">
  Selesaikan video untuk membuka kuis
 </div>
</div>

<!-- QUIZ -->
<button id="btnQuiz3" class="locked-btn" disabled style="display:none"
 onclick="showQuiz(3)">
 üîí Mulai Kuis
</button>

<div id="quiz3" class="quiz" style="display:none">

<h3>Kuis Indikator 3</h3>

  <div class="quiz-card">
   <span class="question-type pg">Pilihan Ganda</span>
   <h4>1. Dokumen HTML diawali dengan tag ‚Ä¶</h4>
   <label><input type="radio" name="i3_1" value="20"> &lt;html&gt;</label>
   <label><input type="radio" name="i3_1" value="0"> &lt;head&gt;</label>
   <label><input type="radio" name="i3_1" value="0"> &lt;body&gt;</label>
   <label><input type="radio" name="i3_1" value="0"> &lt;title&gt;</label>
  </div>

  <div class="quiz-card">
   <span class="question-type pg">Pilihan Ganda</span>
   <h4>2. Judul halaman web ditampilkan pada ‚Ä¶</h4>
   <label><input type="radio" name="i3_2" value="20"> Tab browser</label>
   <label><input type="radio" name="i3_2" value="0"> Isi halaman</label>
   <label><input type="radio" name="i3_2" value="0"> Footer</label>
   <label><input type="radio" name="i3_2" value="0"> Header</label>
  </div>

  <div class="quiz-card">
   <span class="question-type tf">Benar/Salah</span>
   <h4>3. Semua konten web berada di dalam tag &lt;body&gt;</h4>
   <label><input type="radio" name="i3_3" value="20"> Benar</label>
   <label><input type="radio" name="i3_3" value="0"> Salah</label>
  </div>

  <div class="quiz-card">
   <span class="question-type tf">Benar/Salah</span>
   <h4>4. Struktur HTML harus ditutup secara berurutan</h4>
   <label><input type="radio" name="i3_4" value="20"> Benar</label>
   <label><input type="radio" name="i3_4" value="0"> Salah</label>
  </div>

  <div class="quiz-card">
   <span class="question-type tf">Benar/Salah</span>
   <h4>5. HTML bersifat hierarkis</h4>
   <label><input type="radio" name="i3_5" value="20"> Benar</label>
   <label><input type="radio" name="i3_5" value="0"> Salah</label>
  </div>

  <button onclick="cekIndikator(3)">Submit Kuis</button>

 </div>
</div>
</section>

<!-- ================= RANGKUMAN ================= -->
<section id="s5">
<div class="container">

<div class="section-head">
<h2>RANGKUMAN PERTEMUAN 1</h2>
<p>Struktur Dasar dan Format Teks HTML</p>
<div class="section-divider"></div>
</div>

<div class="summary-grid">

<div class="summary-item">
<h4>1. Konsep Dasar HTML</h4>
<p>
HTML (<i>HyperText Markup Language</i>) merupakan bahasa markup standar yang digunakan untuk menyusun struktur dan konten halaman web. HTML bukan bahasa pemrograman, melainkan bahasa penanda (markup) yang memberi instruksi kepada browser.
</p>
<span><i class="fa-solid fa-lightbulb"></i> Penting</span>
</div>

<div class="summary-item">
<h4>2. Struktur Dasar HTML</h4>
<p>
Struktur dasar HTML terdiri dari tag <b>&lt;html&gt;</b> sebagai pembungkus dokumen, <b>&lt;head&gt;</b> yang berisi informasi dokumen seperti judul halaman, dan <b>&lt;body&gt;</b> yang memuat seluruh konten yang ditampilkan pada halaman web.
</p>
<span><i class="fa-solid fa-code"></i> Struktur</span>
</div>

<div class="summary-item">
<h4>3. Tag dan Format Teks</h4>
<p>
Tag HTML digunakan untuk mengatur tampilan teks dan konten. Beberapa tag format teks yang umum digunakan antara lain <b>&lt;b&gt;</b> untuk teks tebal, <b>&lt;i&gt;</b> untuk teks miring, <b>&lt;u&gt;</b> untuk garis bawah, <b>&lt;p&gt;</b> untuk paragraf, dan <b>&lt;br&gt;</b> untuk pindah baris.
</p>
<span><i class="fa-solid fa-font"></i> Format</span>
</div>

<div class="summary-item">
<h4>4. Integrasi Struktur dan Format</h4>
<p>
Struktur HTML bersifat hierarkis, artinya setiap elemen memiliki hubungan induk dan anak. Integrasi struktur dasar dengan format teks memungkinkan pembuatan halaman web sederhana yang rapi, terstruktur, dan mudah dikembangkan.
</p>
<span><i class="fa-solid fa-puzzle-piece"></i> Integrasi</span>
</div>

</div>
<div class="summary-video">
   <h3>üé• Video Rangkuman Materi</h3>
   <p>
    Video berikut merangkum seluruh materi Pertemuan 1 mulai dari
    struktur dasar HTML, penggunaan tag, hingga integrasi format teks
    dalam sebuah halaman web sederhana.
   </p>

   <div class="optional-note">
    <i class="fa-solid fa-info-circle"></i> <b>Catatan:</b> Video rangkuman ini bersifat opsional. Anda dapat memutarnya untuk review tambahan atau langsung melanjutkan ke latihan. Tombol "Mulai Latihan" sudah aktif.
   </div>

   <div class="video-lumi" data-indikator="rangkuman" data-durasi="352">

 <div class="video-wrapper">
  <iframe
   src="https://app.lumi.education/run/mujxea?embed=true"
   loading="lazy"
   sandbox="allow-scripts allow-same-origin allow-forms allow-popups"
   allow="autoplay; fullscreen">
  </iframe>
 </div>

   <div class="note-box">
    <b>Capaian Setelah Pertemuan 1:</b>
    <ul style="margin-top:10px;line-height:1.9">
     <li>Memahami fungsi dan struktur dasar HTML</li>
     <li>Mampu menuliskan tag HTML sederhana dengan benar</li>
     <li>Mampu menyusun halaman web sederhana secara utuh</li>
    </ul>
   </div>

   <button id="btnLatihan">
    ‚ñ∂Ô∏è Mulai Latihan Pertemuan 1
   </button>
  </div>
 </div>
</section>

<!-- ================= LATIHAN AKHIR ================= -->
<section id="s6">
<div class="container">
  <div class="section-head">
   <h2>Latihan Akhir Pertemuan 1</h2>
   <p>Jawab soal berikut untuk mengukur pemahaman kamu di pertemuan 1 ini!</p>
   <div class="section-divider"></div>
  </div>
    <div id="latihan" class="exercise-list">

   <div class="exercise-progress">
    <div>üìò Latihan Pertemuan 1</div>
    <span>10 Soal</span>
   </div>

<!-- MENJODOHKAN -->
<div class="exercise-item" data-no="01">
<h4>1. Menjodohkan tag HTML dengan fungsinya</h4>
<p>&lt;html&gt; ‚Üí <input type="text" name="menjodoh1" placeholder="Fungsi..."> (Pembungkus utama)</p>
<p>&lt;head&gt; ‚Üí <input type="text" name="menjodoh2" placeholder="Fungsi..."> (Informasi dokumen)</p>
<p>&lt;body&gt; ‚Üí <input type="text" name="menjodoh3" placeholder="Fungsi..."> (Konten halaman)</p>
</div>

<!-- TRUE FALSE -->
<div class="exercise-item" data-no="02">
<h4>2. HTML adalah bahasa pemrograman</h4>
<label><input type="radio" name="l2" value="0"> Benar</label>
<label><input type="radio" name="l2" value="10"> Salah</label>
</div>

<!-- PILIHAN GANDA -->
<div class="exercise-item" data-no="03">
<h4>3. Tag untuk teks tebal adalah ‚Ä¶</h4>
<label><input type="radio" name="l3" value="10"> &lt;b&gt;</label>
<label><input type="radio" name="l3" value="0"> &lt;p&gt;</label>
<label><input type="radio" name="l3" value="0"> &lt;br&gt;</label>
</div>

<!-- ISIAN SINGKAT -->
<div class="exercise-item" data-no="04">
<h4>4. Tag yang digunakan untuk paragraf adalah ...</h4>
<input type="text" name="isian1" placeholder="Jawab di sini..." style="width:100%; padding:8px; border-radius:8px; border:2px solid #d1fae5;">
</div>

<!-- PILIH LEBIH DARI SATU -->
<div class="exercise-item" data-no="05">
<h4>5. Pilih tag format teks (lebih dari satu)</h4>
<label><input type="checkbox" value="5"> &lt;b&gt;</label>
<label><input type="checkbox" value="5"> &lt;i&gt;</label>
<label><input type="checkbox" value="0"> &lt;html&gt;</label>
<label><input type="checkbox" value="5"> &lt;u&gt;</label>
</div>

<!-- TRUE FALSE -->
<div class="exercise-item" data-no="06">
<h4>6. Tag HTML harus ditutup berpasangan</h4>
<label><input type="radio" name="l6" value="10"> Benar</label>
<label><input type="radio" name="l6" value="0"> Salah</label>
</div>

<!-- PILIHAN GANDA -->
<div class="exercise-item" data-no="07">
<h4>7. Judul halaman web berada di tag ‚Ä¶</h4>
<label><input type="radio" name="l7" value="10"> &lt;head&gt;</label>
<label><input type="radio" name="l7" value="0"> &lt;body&gt;</label>
<label><input type="radio" name="l7" value="0"> &lt;html&gt;</label>
</div>

<!-- ISIAN SINGKAT -->
<div class="exercise-item" data-no="08">
<h4>8. Fungsi tag &lt;br&gt; adalah ...</h4>
<input type="text" name="isian2" placeholder="Jawab di sini..." style="width:100%; padding:8px; border-radius:8px; border:2px solid #d1fae5;">
</div>

<!-- PILIH LEBIH DARI SATU -->
<div class="exercise-item" data-no="09">
<h4>9. Browser yang mendukung HTML (lebih dari satu)</h4>
<label><input type="checkbox" value="5"> Chrome</label>
<label><input type="checkbox" value="5"> Firefox</label>
<label><input type="checkbox" value="0"> Word</label>
<label><input type="checkbox" value="5"> Edge</label>
</div>

<!-- MENJODOHKAN -->
<div class="exercise-item" data-no="10">
<h4>10. Menjodohkan format teks</h4>
<p>&lt;b&gt; ‚Üí <input type="text" name="menjodoh4" placeholder="Format..."> (Tebal)</p>
<p>&lt;i&gt; ‚Üí <input type="text" name="menjodoh5" placeholder="Format..."> (Miring)</p>
<p>&lt;u&gt; ‚Üí <input type="text" name="menjodoh6" placeholder="Format..."> (Garis bawah)</p>
</div>

</div>
<button onclick="selesaiLatihan()">Selesai Latihan</button>
</div>
</section>

<footer>
 ¬© 2025 Mahasiswa PTI IPI Garut | SMK Al-Hikmah Tarogong Kaler Garut
</footer>
<think>
Pertama, pengguna meminta "fullkan js nya aja", yang berarti "fullkan JS nya saja", maksudnya lengkapi kode JavaScript lengkapnya saja.


## Interpreting user request  
- The user asked for "fullkan js nya aja," meaning "complete the JavaScript code only."  
- This suggests they want a full, standalone JavaScript implementation, likely related to a previously discussed system.
</think>```javascript
<script>
/* ======================= USER INTERACTION ======================= */
let userInteracting = false;
document.addEventListener("mousemove", () => userInteracting = true);
document.addEventListener("keydown", () => userInteracting = true);
document.addEventListener("click", () => userInteracting = true);
document.addEventListener("scroll", () => userInteracting = true); // Tambahkan scroll sebagai interaksi
setInterval(() => userInteracting = false, 1500);

/* ======================= GLOBAL PROGRESS ======================= */
let globalProgress = 0;
const bar = document.getElementById("bar");
const progressText = document.getElementById("progressText");

function setGlobalProgressSafe(value) {
  if (value <= globalProgress) return;
  globalProgress = Math.min(value, 100); // Pastikan tidak melebihi 100
  bar.style.width = globalProgress.toFixed(1) + "%";
  progressText.textContent = globalProgress.toFixed(1) + "% Selesai";
  setTimeout(() => {
    bar.classList.add("active");
    setTimeout(() => bar.classList.remove("active"), 600);
  }, 100);
}

// Interval untuk meningkatkan progress global saat user interacting (hanya sampai titik awal, misal 5%)
let progressInterval = setInterval(() => {
  if (userInteracting && globalProgress < 5) {
    setGlobalProgressSafe(globalProgress + 0.05); // Tambah 0.05% per 100ms jika interacting
  }
}, 100);

/* ======================= KONFIGURASI ======================= */
const KKM = 70;
let current = 1;
let nilai = {1: 0, 2: 0, 3: 0};
let nilaiLatihan = 0;
let indikatorLulus = {1: false, 2: false, 3: false};

const progressMap = {
  halaman: {
    tujuan: 5,
    indikator1: 15,
    indikator2: 35,
    indikator3: 85,
    rangkuman: 95,
    latihan: 100
  },
  video: {
    tujuan: {start: 0, end: 5},
    1: {start: 5, end: 15},
    2: {start: 25, end: 35},
    3: {start: 45, end: 85},
    rangkuman: {start: 85, end: 95}
  },
  kuis: {1: 25, 2: 45, 3: 95}
};

/* ======================= SWEETALERT BASE ======================= */
const swalBase = Swal.mixin({
  confirmButtonColor: "#10b981",
  denyButtonColor: "#064e3b",
  backdrop: `rgba(16,185,129,.15)`,
  buttonsStyling: true
});

/* ======================= SCROLL HELPER ======================= */
function scrollToEl(el) {
  const y = el.getBoundingClientRect().top + window.pageYOffset - 140;
  window.scrollTo({top: y, behavior: "smooth"});
}

/* ======================= CONFETTI ======================= */
function launchConfetti(final = false) {
  confetti({particleCount: final ? 220 : 120, spread: final ? 110 : 90, origin: {y: 0.6}});
}

/* ======================= UPDATE PROGRESS ======================= */
function updateProgress(type, indikator) {
  if (!progressMap[type]) return;
  const target = progressMap[type][indikator];
  if (!target) return;
  setGlobalProgressSafe(target);
}

function updateGlobalProgressRealtime(indikator, percent) {
  if (!progressMap.video[indikator]) return;
  const {start, end} = progressMap.video[indikator];
  const real = start + ((end - start) * (percent / 100));
  setGlobalProgressSafe(real);
}

/* ======================= NAVIGASI HALAMAN ======================= */
function go(step) {
  const prev = document.getElementById("s" + current);
  const next = document.getElementById("s" + step);

  prev?.classList.remove("active");
  next?.classList.add("active");
  current = step;

  // Update progress berdasarkan step
  const stepKeys = {2: 'tujuan', 3: 'indikator1', 4: 'indikator2', 5: 'rangkuman'};
  if (stepKeys[step]) {
    setGlobalProgressSafe(progressMap.halaman[stepKeys[step]]);
  }

  if (step === 5) {
    // Hapus underline di judul rangkuman
    const judulRangkuman = next?.querySelector("h2");
    if (judulRangkuman) judulRangkuman.style.textDecoration = "none";
    // Sembunyikan status dan progress video rangkuman
    const videoStatus = document.getElementById("videoStatusrangkuman");
    const videoBar = document.getElementById("videoBarrangkuman");
    const videoPercent = document.getElementById("videoPercentrangkuman");
    if (videoStatus) videoStatus.style.display = "none";
    if (videoBar) videoBar.style.display = "none";
    if (videoPercent) videoPercent.style.display = "none";
  }

  setTimeout(() => {
    const judul = next?.querySelector(".title, h2");
    if (judul) scrollToEl(judul);
    else window.scrollTo({top: 0, behavior: "smooth"});
  }, 300);
}

/* ======================= TAMPILKAN KUIS ======================= */
function showQuiz(n) {
  const quiz = document.getElementById(`quiz${n}`);
  quiz.style.display = "block";
  setGlobalProgressSafe(progressMap.kuis[n]);
  scrollToEl(quiz);
}

const indikatorToSection = {
  1: 3, // setelah indikator 1 ‚Üí s3 (indikator 2)
  2: 4, // setelah indikator 2 ‚Üí s4 (indikator 3)
  3: 5  // setelah indikator 3 ‚Üí s5 (rangkuman)
};

/* ======================= CEK INDIKATOR (FIX & VALID) ======================= */
function cekIndikator(n) {
  let skor = 0;

  const container = document.getElementById(`quiz${n}`);
  if (!container) {
    console.error("Quiz container tidak ditemukan:", n);
    return;
  }

  container
    .querySelectorAll('input[type="radio"]:checked')
    .forEach(r => skor += Number(r.value));

  container
    .querySelectorAll('input[type="checkbox"]:checked')
    .forEach(c => skor += Number(c.value));

  // Untuk essay, beri nilai manual atau otomatis sederhana (misal jika diisi, beri 20)
  container
    .querySelectorAll('textarea')
    .forEach(ta => {
      if (ta.value.trim().length > 0) skor += 20; // Asumsi essay bernilai 20 jika diisi
    });

  nilai[n] = skor;
  const lulus = skor >= KKM;
  indikatorLulus[n] = lulus;

  updateProgress("kuis", n);

  if (lulus) {
    launchConfetti();
    swalBase.fire({
      icon: "success",
      title: `Indikator ${n} LULUS üéâ`,
      html: `
        <p><b>Nilai Indikator ${n}</b></p>
        <h1 style="margin:14px 0">${skor}</h1>
        <div class="badge">
          <i class="fa-solid fa-award"></i>
          Siap lanjut ke indikator berikutnya
        </div>
      `,
      confirmButtonText: `Lanjut`,
      allowOutsideClick: false
    }).then(() => {
      const target = indikatorToSection[n];
      if (target) {
        go(target);
      }
    });

  } else {
    swalBase.fire({
      icon: "warning",
      title: `Indikator ${n} BELUM LULUS`,
      html: `
        <p>Nilai kamu:</p>
        <h1 style="margin:14px 0">${skor}</h1>
        <p>Nilai minimum kelulusan adalah <b>${KKM}</b>.</p>
        <p>Silakan pelajari kembali materi dan ulangi kuis.</p>
      `,
      confirmButtonText: "Ulangi Kuis",
      allowOutsideClick: false
    }).then(() => {
      scrollToEl(container);
    });
  }
}

function konversiPredikat(nilai) {
  if (nilai >= 90) return {huruf: "A", label: "Sangat Baik", color: "var(--primary)"};
  if (nilai >= 80) return {huruf: "B", label: "Baik", color: "#3b82f6"};
  if (nilai >= 70) return {huruf: "C", label: "Cukup", color: "#f59e0b"};
  return {huruf: "D", label: "Perlu Bimbingan", color: "#ef4444"};
}

/* ======================= LATIHAN SOAL ======================= */
const soalLatihan = [
  // 1. Menjodohkan (Matching)
  {
    jenis: "menjodohkan",
    pertanyaan: "Jodohkan kolom A dengan kolom B:",
    kolomA: ["HTML", "CSS", "JavaScript"],
    kolomB: ["Bahasa markup", "Bahasa styling", "Bahasa pemrograman"],
    jawaban: {0: 0, 1: 1, 2: 2}, // Indeks jawaban benar
    nilai: 10
  },
  // 2. True/False
  {
    jenis: "truefalse",
    pertanyaan: "HTML adalah bahasa pemrograman.",
    jawaban: false,
    nilai: 10
  },
  // 3. PG (Pilihan Ganda)
  {
    jenis: "pg",
    pertanyaan: "Apa fungsi utama CSS?",
    pilihan: ["Membuat struktur halaman", "Mengatur tampilan halaman", "Menambahkan interaktivitas"],
    jawaban: 1,
    nilai: 10
  },
  // 4. Isian Singkat
  {
    jenis: "isian",
    pertanyaan: "Bahasa pemrograman yang digunakan untuk web interaktif adalah _____.",
    jawaban: "javascript",
    nilai: 10
  },
  // 5. Pilih Lebih dari Satu (Checkbox)
  {
    jenis: "checkbox",
    pertanyaan: "Pilih teknologi web berikut yang benar:",
    pilihan: ["HTML", "CSS", "Java", "JavaScript"],
    jawaban: [0, 1, 3], // Indeks benar
    nilai: 10
  },
  // 6. Menjodohkan
  {
    jenis: "menjodohkan",
    pertanyaan: "Jodohkan framework dengan bahasa:",
    kolomA: ["React", "Vue", "Angular"],
    kolomB: ["JavaScript", "JavaScript", "TypeScript"],
    jawaban: {0: 0, 1: 0, 2: 1},
    nilai: 10
  },
  // 7. True/False
  {
    jenis: "truefalse",
    pertanyaan: "CSS dapat digunakan untuk mengatur warna teks.",
    jawaban: true,
    nilai: 10
  },
  // 8. PG
  {
    jenis: "pg",
    pertanyaan: "Tag HTML untuk paragraf adalah:",
    pilihan: ["<p>", "<div>", "<span>"],
    jawaban: 0,
    nilai: 10
  },
  // 9. Isian Singkat
  {
    jenis: "isian",
    pertanyaan: "Protokol untuk transfer file web adalah _____.",
    jawaban: "http",
    nilai: 10
  },
  // 10. Checkbox
  {
    jenis: "checkbox",
    pertanyaan: "Pilih browser populer:",
    pilihan: ["Chrome", "Firefox", "Safari", "Word"],
    jawaban: [0, 1, 2],
    nilai: 10
  }
];

function mulaiLatihan() {
  const container = document.getElementById("latihan");
  container.innerHTML = "<h3>Latihan Pertemuan 1</h3>";
  soalLatihan.forEach((soal, index) => {
    let html = `<div class="soal" id="soal${index}"><p><b>${index + 1}. ${soal.pertanyaan}</b></p>`;
    if (soal.jenis === "menjodohkan") {
      html += "<div class='matching'>";
      html += "<div class='kolom'><h4>Kolom A</h4><ul>";
      soal.kolomA.forEach((item, i) => {
        html += `<li>${item} <select id="match${index}_${i}"><option value="">Pilih</option>`;
        soal.kolomB.forEach((opt, j) => html += `<option value="${j}">${opt}</option>`);
        html += "</select></li>";
      });
      html += "</ul></div>";
      html += "<div class='kolom'><h4>Kolom B</h4><ol>";
      soal.kolomB.forEach(item => html += `<li>${item}</li>`);
      html += "</ol></div></div>";
    } else if (soal.jenis === "truefalse") {
      html += `<input type="radio" name="tf${index}" value="true"> Benar<br>`;
      html += `<input type="radio" name="tf${index}" value="false"> Salah`;
    } else if (soal.jenis === "pg") {
      soal.pilihan.forEach((opt, i) => {
        html += `<input type="radio" name="pg${index}" value="${i}"> ${opt}<br>`;
      });
    } else if (soal.jenis === "isian") {
      html += `<input type="text" id="isian${index}">`;
    } else if (soal.jenis === "checkbox") {
      soal.pilihan.forEach((opt, i) => {
        html += `<input type="checkbox" name="cb${index}" value="${i}"> ${opt}<br>`;
      });
    }
    html += "</div>";
    container.innerHTML += html;
  });
  container.innerHTML += '<button onclick="cekLatihan()">Selesai Latihan</button>';
  scrollToEl(container);
}

function cekLatihan() {
  let skor = 0;
  soalLatihan.forEach((soal, index) => {
    if (soal.jenis === "menjodohkan") {
      let benar = true;
      Object.keys(soal.jawaban).forEach(i => {
        const select = document.getElementById(`match${index}_${i}`);
        if (select.value != soal.jawaban[i]) benar = false;
      });
      if (benar) skor += soal.nilai;
    } else if (soal.jenis === "truefalse") {
      const selected = document.querySelector(`input[name="tf${index}"]:checked`);
      if (selected && selected.value === soal.jawaban.toString()) skor += soal.nilai;
    } else if (soal.jenis === "pg") {
      const selected = document.querySelector(`input[name="pg${index}"]:checked`);
      if (selected && parseInt(selected.value) === soal.jawaban) skor += soal.nilai;
    } else if (soal.jenis === "isian") {
      const input = document.getElementById(`isian${index}`);
      if (input.value.toLowerCase().trim() === soal.jawaban.toLowerCase()) skor += soal.nilai;
    } else if (soal.jenis === "checkbox") {
      const selected = Array.from(document.querySelectorAll(`input[name="cb${index}"]:checked`)).map(cb => parseInt(cb.value));
      if (JSON.stringify(selected.sort()) === JSON.stringify(soal.jawaban.sort())) skor += soal.nilai;
    }
  });
  nilaiLatihan = skor;
  selesaiLatihan();
}

/* ======================= SUBMIT LATIHAN & NILAI AKHIR ======================= */
function selesaiLatihan() {
  const nilaiAkhir = nilai[1] + nilai[2] + nilai[3] + nilaiLatihan;
  const predikat = konversiPredikat(nilaiAkhir);

  localStorage.setItem("nilai_pertemuan_1", nilaiAkhir);

  launchConfetti(true);

  const finalResult = `
    <div class="final-result">
      <h2>üéì Hasil Akhir Pertemuan 1</h2>
      <div class="predikat" style="background: ${predikat.color};">Predikat: <b>${predikat.huruf}</b> ‚Äî ${predikat.label}</div>
      <div class="score">${nilaiAkhir}</div>
      <table>
        <tr><td>Indikator 1</td><td>: ${nilai[1]}</td></tr>
        <tr><td>Indikator 2</td><td>: ${nilai[2]}</td></tr>
        <tr><td>Indikator 3</td><td>: ${nilai[3]}</td></tr>
        <tr><td>Latihan</td><td>: ${nilaiLatihan}</td></tr>
        <tr><td><b>Total Nilai</b></td><td><b>: ${nilaiAkhir}</b></td></tr>
      </table>
    </div>
  `;

  document.body.innerHTML += finalResult;

  setTimeout(() => {
    const finalEl = document.querySelector('.final-result');
    if (finalEl) scrollToEl(finalEl);
  }, 500);

 setTimeout(() => {
    const buttons = `
      <div style="text-align:center; margin-top:30px;">
        <button onclick="window.location.href='pertemuan2.html'" style="margin-right:20px;">Lanjut Pertemuan 2</button>
        <button onclick="window.location.href='BERANDA.html'">Kembali ke Beranda</button>
      </div>
    `;
    document.querySelector('.final-result').innerHTML += buttons;
  }, 2000);
}

const videoState = {};
let pageVisible = true;

/* === VISIBILITY === */
document.addEventListener("visibilitychange", () => {
  pageVisible = !document.hidden;
  Object.keys(videoState).forEach(pauseVideo);
});

/* === INIT === */
function initVideo(ind) {
  if (videoState[ind]) return;

  const box = document.querySelector(`.video-lumi[data-indikator="${ind}"]`);
  const durasi = Number(box.dataset.durasi || 0);

  videoState[ind] = {
    watched: 0,
    duration: durasi,
    playing: false,
    done: false,
    timer: null
  };
}

function playVideo(ind) {
  initVideo(ind);
  const v = videoState[ind];

  if (v.done) return;

  // üõë hentikan timer lama jika ada
  if (v.timer) {
    clearInterval(v.timer);
    v.timer = null;
  }

  v.playing = true;

  // Hapus bagian overlay agar tidak muncul saat klik video
  // Status dan progress tetap berjalan

  v.timer = setInterval(() => {
    if (!pageVisible) return;

    v.watched++;
    const percent = Math.min(
      Math.round((v.watched / v.duration) * 100),
      100
    );

    updateVideoUI(ind, percent);
    updateGlobalProgressRealtime(ind, percent);

    if (percent >= 100) {
      finishVideo(ind);
    }
  }, 1000);
}

/* === PAUSE === */
function pauseVideo(ind) {
  const v = videoState[ind];
  if (!v?.timer) return;

  clearInterval(v.timer);
  v.timer = null;
  v.playing = false;

  // Sembunyikan overlay saat pause
  const box = document.querySelector(`.video-lumi[data-indikator="${ind}"]`);
  if (box) {
    const overlay = box.querySelector('.video-overlay');
    if (overlay) overlay.style.display = 'none';
  }
}

/* === FINISH === */
function finishVideo(ind) {
  const v = videoState[ind];
  if (v.done) return;

  v.done = true;
  pauseVideo(ind);

  // ================= VIDEO TUJUAN =================
  if (ind === "tujuan") {
    unlockButton("btnMulai", "‚ñ∂Ô∏è Mulai Pembelajaran");
  }

  // ================= VIDEO INDIKATOR =================
  if (["1", "2", "3"].includes(String(ind))) {
    unlockButton(`btnQuiz${ind}`, `‚ñ∂Ô∏è Mulai Kuis ${ind}`);
  }

  // ================= VIDEO RANGKUMAN =================
  if (ind === "rangkuman") {
    const status = document.getElementById("videoStatusrangkuman");
    const label = document.getElementById("videoLabelrangkuman");
    const percent = document.getElementById("videoPercentrangkuman");

    if (label) label.innerText = "‚úÖ Video selesai";
    if (percent) percent.innerText = "100%";

    if (status) {
      status.classList.add("done");
      status.innerText = "Video rangkuman selesai";
    }

    unlockButton("btnLatihan", "‚ñ∂Ô∏è Mulai Latihan Pertemuan 1");

    // global progress 100%
    setGlobalProgressSafe(progressMap.halaman.latihan);
  }
}

/* === UI === */
function updateVideoUI(ind, percent) {
  const bar = document.getElementById(`videoBar${ind}`);
  const label = document.getElementById(`videoLabel${ind}`);
  const persen = document.getElementById(`videoPercent${ind}`);

  if (!bar || !label || !persen) return;

  bar.style.width = percent + "%";
  persen.innerText = percent + "%";

  if (percent === 0) {
    label.innerText = "üîí Video belum diputar";
  } else if (percent < 100) {
    label.innerText = "‚ñ∂Ô∏è Video sedang diputar";
  } else {
    label.innerText = "‚úÖ Video selesai";
  }
}

// Event listener untuk klik pada box video
document.querySelectorAll(".video-lumi").forEach(box => {
  const ind = box.dataset.indikator;
  const playBtn = box.querySelector(".play-btn"); // Asumsikan ada tombol play di dalam box

  if (playBtn) {
    playBtn.addEventListener("click", () => {
      playVideo(ind);
    });
  } else {
    // Jika tidak ada tombol, klik pada box
    box.addEventListener("click", () => {
      playVideo(ind);
    });
  }
});

/* === BUTTON UNLOCK === */
function unlockButton(id, text) {
  const btn = document.getElementById(id);
  if (!btn) return;

  btn.disabled = false;
  btn.classList.remove("locked-btn");
  btn.classList.add("unlocked");
  btn.style.display = "inline-block";
  btn.innerHTML = text;
}

document.getElementById("btnMulai").onclick = () => go(2);

// Tombol mulai latihan (untuk tombol yang di-unlock setelah video rangkuman)
document.getElementById("btnLatihan").onclick = mulaiLatihan;

// Tombol kuis indikator (untuk tombol yang di-unlock setelah video indikator selesai)
document.getElementById("btnQuiz1").onclick = () => showQuiz(1);
document.getElementById("btnQuiz2").onclick = () => showQuiz(2);
document.getElementById("btnQuiz3").onclick = () => showQuiz(3);

</script>
</body>
</html>
